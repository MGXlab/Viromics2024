---
start: True
title: "Host Prediction II"
teaching: 120
exercises: 30
questions:
- ""
objectives:
- ""
keypoints:
---

# Host prediction

> ## sbatch script for host prediction with iPHoP
> ```bash
> #!/bin/bash
> #SBATCH --tasks=1
> #SBATCH --cpus-per-task=32
> #SBATCH --partition=standard
> #SBATCH --mem=30G
> #SBATCH --time=01:00:00
> #SBATCH --job-name=hostprediction_iphop
> #SBATCH --output=10_results_hostprediction_iphop/hostprediction_iphop.slurm.%j.out
> #SBATCH --error=10_results_hostprediction_iphop/hostprediction_iphop.slurm.%j.err
> 
> # run iPHoP to predict hosts for the phage contigs
> # First, activate the conda environment which holds the iphop installation on draco:
> source /vast/groups/VEO/tools/anaconda3/etc/profile.d/conda.sh && conda activate iphop_v1.3.3
> 
> # iPHoP parameters (https://bitbucket.org/srouxjgi/iphop/src/main/)
> # --fa_file: the contigs to predict a host for
> # --db_dir: the location of the database used by iphop
> # --out_dir: directory to save the results in
> # -t: number of threads
> iphop predict --fa_file ../1.3_virus_identification/20_select_contigs/phage_contigs.fasta --db_dir /work/groups/VEO/databases/iphop/v20240325/Aug_2023_pub_rw/ --out_dir 10_results_hostprediction_iphop -t 30
> 
> # technically its not necessary to close the conda environment, 
> # the session will be terminated after the script finishes.
> conda deactivate
>```
> {: .source}
{: .solution}
